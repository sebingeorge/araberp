@model IList<ArabErp.Domain.SalesInvoiceItem>
@using GridMvc.Html

<style type="text/css">
    .tableData {
        font-size: 12px;
        padding-left: 4px;
    }

    .list {
        display: block;
        height: 320px;
        overflow-y: scroll;
    }

        .list tr:hover {
            background-color: #DFEDF7;
        }

    .wrap {
        width: 100%;
    }

        .wrap table {
            width: 100%;
            table-layout: fixed;
        }

    table tr td {
        padding: 5px;
        border: 1px solid #eee;
        word-wrap: break-word;
    }

    table.head tr td {
        background: #eee;
    }

    .inner_table {
        height: 50%;
        overflow-y: auto;
    }

    .rcorners2 {
        border-radius: 25px;
        border: 2px solid #73AD21;
        padding: 20px;
        width: 100%;
        height: 150px;
    }
</style>
<script>

    $(document).ready(function () {
        $("#checkAll").change(function () {
            $("input:checkbox").prop('checked', $(this).prop("checked"));
            if ($("#checkAll").is(':checked')) {
                var count = parseInt('@Model.Count');
                document.getElementById('HiddenForCheckBox').value = parseInt(count);

                document.getElementById("BtnSubmit").disabled = false;

            }
            else {
                document.getElementById('HiddenForCheckBox').value = parseInt(0);
                document.getElementById("BtnSubmit").disabled = true;

            }
        });
    });

    function Checked(s) {

        if ($(s).is(':checked')) {
            document.getElementById('HiddenForCheckBox').value = parseInt(document.getElementById('HiddenForCheckBox').value) + 1;
            // something when checked

            var Allcount = parseInt('@Model.Count');
            var HiddenCount = parseInt(document.getElementById('HiddenForCheckBox').value);


            //alert(Allcount+HiddenCount);
            if (Allcount == HiddenCount) {

                $('#checkAll').attr('checked', true);
                $('#checkAll').prop('checked', true);
            }

        }
        else {
            // something else when not
            document.getElementById('HiddenForCheckBox').value = parseInt(document.getElementById('HiddenForCheckBox').value) - 1;

            $('#checkAll').attr('checked', false);
        }
        //if (document.getElementById('HiddenForCheckBox').value = 0) {
        //    document.getElementById("BtnSubmit").disabled = true;

        //    alert(document.getElementById('HiddenForCheckBox').value);
        //}
        //    else
        if (document.getElementById('HiddenForCheckBox').value > 0) {
            document.getElementById("BtnSubmit").disabled = false;

        }
        else if (document.getElementById('HiddenForCheckBox').value <= 0) {
            document.getElementById("BtnSubmit").disabled = true;

        }
    }

</script>

@using ( Html.BeginForm("Create", null, FormMethod.Post, new { @class = "createFrom", @id = "Item_form" }) )
{
    <div class="container-fluid pad4" style="margin-bottom:2px;">
        <div class="row">
            @*<div class="main-list white col-md-12 wid left">
                <div id="PendingCustomerInvoiceDiv">
                    <div class="col-md-1" style="padding-top:5px;padding-left:40px">*@

                        @*@Html.Label("Customer", new { @class = "form_input", autocomplete = "off", @readonly = "readonly" })*@
                        @*<label>Customer</label>

                    </div>
                    <div class="col-md-2">
                        @Html.TextBox("txtTitle", (string)ViewBag.CustomerName, new { @class = "form_input", Style = "background:#D6D5D5", autocomplete = "off", @readonly = "readonly" })
                    </div>
                    <div class="col-md-2" style="padding-top:5px;padding-left:62px">

                        <label>Sale Order Ref No</label>
                    </div>
                    <div class="col-md-2">

                        @Html.TextBox("txtTitle", (string)ViewBag.SaleOrderRefNoWithDate, new { @class = "form_input backgroundcolortransparent", Style = "background:#D6D5D5", autocomplete = "off", @readonly = "readonly" })
                    </div>
                    <div class="col-md-3">

                    </div>
                </div>
            </div>*@
        </div>
    </div>
    @*<div class="container-fluid pad4">
        <div class="row">
            <div class="main-list col-md-12 wid">
                <div class="main-grid scroll3" style="overflow-y:scroll">
                    <div>*@
                        <div class="table-responsive">
                            @*<h5>Sales Invoice Details</h5>*@
                            <table id="PendingCustomerInvoiceTable" class="table table-bordered">

                                @if ( Model.Count > 0 )
                                {
                                    <thead>
                                        <tr class="grid_heading">
                                            <th width="40%"><h1>Work Description</h1></th>
                                            <th width="20%"><h1>Job Card No.</h1></th>
                                            <th width="15%"><h1>Vehicle Model</h1></th>
                                            <th width="5%"><h1>Quantity</h1></th>

                                            <th width="5%"><h1>Rate</h1></th>
                                            <th width="5%"><h1>Amount</h1></th>
                                            <th width="10%">
                                                <h1>
                                                    <input id="checkAll" type="checkbox" value="Select All" /><label for="checkAll">Select All</label>
                                                    <input type="hidden" value="0" id="HiddenForCheckBox" />
                                                </h1>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @for ( int i = 0; i < Model.Count(); i++ )
                                        {
                                            <tr style="width:80%">
                                                <td width="20%">@Html.TextBoxFor(m => Model[i].WorkDescription, new { @class = "form_input", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="20%">@Html.TextBoxFor(m => Model[i].JobCardNo, new { @class = "form_input", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="15%">@Html.TextBoxFor(m => Model[i].VehicleModelName, new { @class = "form_input", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="5%">@Html.TextBoxFor(m => Model[i].Quantity, new { @class = "form_input clAmount", @style = "text-align:right", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="5%">@Html.TextBoxFor(m => Model[i].Rate, new { @class = "form_input clAmount", @style = "text-align:right", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="5%">@Html.TextBoxFor(m => Model[i].Amount, new { @class = "form_input clAmount", @style = "text-align:right", autocomplete = "off", @readonly = "readonly" })</td>
                                                <td width="10%"><center>@Html.CheckBoxFor(model => Model[i].SelectStatus, new { @class = "check_box", @onclick = "Checked(this)" })</center></td>
                                                @Html.HiddenFor(model => Model[i].SaleOrderId)
                                                @Html.HiddenFor(model => Model[i].SaleOrderItemId)
                                                @Html.HiddenFor(model => Model[i].invType)
                                                @* <td><a href="" onclick="OpenCustomerInvoice('@Model[i].SaleOrderId');">Select</a></td>*@
                                            </tr>
                                        }
                                    </tbody>
                                }
                                else
                                {
                                    <tr class="grid_heading">
                                        <th>Work Description</th>
                                        <th>Job Card No.</th>
                                        <th>Vehicle Model</th>
                                        <th>Quantity</th>

                                        <th>Rate</th>
                                        <th>Amount</th>
                                        <th><label for="checkAll">Select All</label></th>
                                    </tr>
                                    <tr>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                        <td>&nbsp;</td>
                                    </tr>
                                }
                            </table>
                            <div class="margf">
                                <button type="submit" class="form-button" id="BtnSubmit" disabled>Proceed</button>
                            </div>
                        </div>
                    @*</div>
                </div>
            </div>

        </div>
    </div>*@
}

